from os import listdir

# remove .DS_STORE, etc.
only_valid_names = lambda name: name[0] != '.'

# use: gather Gradle-generated classpaths from Javadoc.options files
# generated by running :uploadArchives task first
def gather_classpath():
    paths = filter(only_valid_names, listdir("."))
    classpath = ""
    for path in paths:
        if not path.startswith('aws') or path.endswith('test') or path.endswith('testutils'):
            continue
        f = open(path + "/build/tmp/androidJavadocs/javadoc.options", "r")
        lines = f.readlines()

        # remove "-classpath '" from start and "'\n" from end
        classpath += lines[0][12:-2] + ":"
        f.close()
    return classpath

